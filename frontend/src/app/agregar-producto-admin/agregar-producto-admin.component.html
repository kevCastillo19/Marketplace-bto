<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
 #alerta {
    width: 50%;
    align-items: center;
    margin-top: -15rem;

  }
</style>


<body>

  <div class="container">

    <div id="alerta" class="alert alert-success" role="alert">
      Agregando un Nuevo Producto
    </div>

    <form [formGroup]="productoForm" class="row g-3" enctype="multipart/form-data" action="" method="post"
      autocomplete="off">

      <div class="col-xs-12 col-md-6">
        <label class="form-label">Nombre del Producto</label>
        <input id="nombreProducto" formControlName="nombreProducto" type="text" style="width: 90%;" class="form-control" required>
        <div style="width: 90%;" *ngIf="productoForm.controls['nombreProducto'].invalid && productoForm.controls['nombreProducto'].dirty" class="alert alert-success" role="alert">
          <div style="width: 90%;" *ngIf="productoForm.controls['nombreProducto'].errors?.required">Producto es requerido</div>
          <div  *ngIf="productoForm.controls['nombreProducto'].errors?.minlength">El producto debe tener 10 o mas letras </div>      
        </div>
      
      </div>
     




      <div class="col-xs-12 col-md-6">
        <label class="form-label">Descripcion del Producto</label>
        <input formControlName="descProducto" type="text" style="width: 90%;" class="form-control" required>
        <div style="width: 90%;" *ngIf="productoForm.controls['descProducto'].invalid && productoForm.controls['descProducto'].dirty" class="alert alert-success" role="alert">
          <div style="width: 90%;" *ngIf="productoForm.controls['descProducto'].errors?.required">La descripcion es requerida</div>
          <div  *ngIf="productoForm.controls['descProducto'].errors?.minlength">La descripcion debe tener 10 o mas letras </div>      
        </div>
      </div>

      <div class="col-xs-12 col-md-6">
        <label class="form-label">Precio del Producto</label>
        <input type="text" style="width: 90%;" class="form-control" placeholder="$0 - $999.9" id="precioProducto"
          formControlName="precioProducto"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" maxlength="6" />
          <div style="width: 90%;" *ngIf="productoForm.controls['precioProducto'].invalid && productoForm.controls['precioProducto'].dirty" class="alert alert-success" role="alert">
            <div style="width: 90%;" *ngIf="productoForm.controls['precioProducto'].errors?.required">El precio es requerido</div>     
          </div>
      </div>


      <div class="col-xs-12 col-md-6">
        <label class="form-label">Stock del Producto</label>
        <input type="text" style="width: 90%;" class="form-control" placeholder="1 - 999"
          formControlName="stockProducto" name="stockProducto"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" maxlength="3" />
          <div style="width: 90%;" *ngIf="productoForm.controls['stockProducto'].invalid && productoForm.controls['stockProducto'].dirty" class="alert alert-success" role="alert">
            <div style="width: 90%;" *ngIf="productoForm.controls['stockProducto'].errors?.required">el Stock es requerido</div>  
          </div>
      </div>


      <div class="col-xs-12 col-md-6">
        <label class="form-label">Categoria del Producto</label>
        <select name="idCategoria" style="width: 90%;"  formControlName="idCategoria" class="form-select" required>
          <option value="" selected>selecione una categoria</option>
          <option *ngFor="let categoria of categorias" value="{{ categoria.idCategoria }}" >{{categoria.nombreCategoria}} </option>
        </select>
        <div style="width: 90%;" *ngIf="productoForm.controls['idCategoria'].invalid && productoForm.controls['idCategoria'].dirty" class="alert alert-success" role="alert">
          <div style="width: 90%;" *ngIf="productoForm.controls['idCategoria'].errors?.required">La categoria es requerida</div>    
        </div>
      </div>
      <!--<div class="col-xs-12 col-md-6">
        <label class="form-label">Categoria del Producto</label>

        <select name="idCategoria" style="width: 90%;" class="form-select" required>
          <option class="option" formControlName="idCategoria">Debes Seleccionar La Categoria</option>
        </select>
      </div>-->

      <div class="col-xs-6 col-md-12">
        <button (click)="agregarProducto(producto)" class="btn btn-success" type="submit">Guardar Producto</button>
      </div>
    </form>
  </div>


</body>

</html>